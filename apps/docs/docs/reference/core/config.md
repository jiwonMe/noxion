---
title: defineConfig / loadConfig
description: "@noxion/core configuration API"
---

# Config API

```ts
import { defineConfig, loadConfig } from "@noxion/core";
```

---

## `defineConfig()`

Creates a `NoxionConfig` object with all defaults applied and validates required fields.

### Signature

```ts
function defineConfig(input: NoxionConfigInput): NoxionConfig
```

### Parameters

| Property | Type | Required | Default | Description |
|----------|------|----------|---------|-------------|
| `rootNotionPageId` | `string` | * | — | Root Notion database page ID. Required unless `collections` is set. |
| `name` | `string` | ✅ | — | Site name |
| `domain` | `string` | ✅ | — | Production domain without protocol |
| `author` | `string` | ✅ | — | Default author name |
| `description` | `string` | ✅ | — | Site description |
| `collections` | `NoxionCollection[]` | — | `undefined` | Multi-database configuration |
| `defaultPageType` | `string` | — | `"blog"` | Default page type for single-database mode |
| `rootNotionSpaceId` | `string` | — | `undefined` | Notion workspace ID |
| `language` | `string` | — | `"en"` | BCP 47 language tag |
| `defaultTheme` | `ThemeMode` | — | `"system"` | Initial color mode |
| `revalidate` | `number` | — | `3600` | ISR revalidation interval in seconds |
| `revalidateSecret` | `string` | — | `undefined` | Secret for on-demand revalidation |
| `plugins` | `PluginConfig[]` | — | `[]` | Plugins to enable |

### What `defineConfig` does

1. Merges your input with defaults:
   ```ts
   const defaults = {
     language: "en",
     defaultTheme: "system",
     defaultPageType: "blog",
     revalidate: 3600,
     plugins: [],
   };
   ```
2. If `rootNotionPageId` is set without `collections`, creates a default collection with the specified `defaultPageType`
3. Validates that `collections` entries have `databaseId` and `pageType`
4. Checks for environment variable overrides
5. Returns the merged `NoxionConfig`

### Single-database mode

```ts
export default defineConfig({
  rootNotionPageId: process.env.NOTION_PAGE_ID!,
  name: "My Blog",
  domain: "myblog.com",
  author: "Jane Doe",
  description: "A blog about web development.",
  plugins: [createRSSPlugin({ feedPath: "/feed.xml" })],
});
```

### Multi-database mode

```ts
export default defineConfig({
  name: "My Site",
  domain: "mysite.com",
  author: "Jane Doe",
  description: "Blog, docs, and portfolio.",
  collections: [
    { databaseId: process.env.NOTION_PAGE_ID!, pageType: "blog" },
    { databaseId: process.env.DOCS_NOTION_ID!, pageType: "docs", pathPrefix: "docs" },
    { databaseId: process.env.PORTFOLIO_NOTION_ID!, pageType: "portfolio", pathPrefix: "portfolio" },
  ],
});
```

---

## `loadConfig()`

Loads the config from `noxion.config.ts` at runtime, with environment variable overrides applied.

### Signature

```ts
function loadConfig(): NoxionConfig
```

### Environment variable overrides

| Environment variable | Overrides |
|----------------------|-----------|
| `SITE_NAME` | `name` |
| `SITE_DOMAIN` | `domain` |
| `SITE_AUTHOR` | `author` |
| `SITE_DESCRIPTION` | `description` |
| `REVALIDATE_SECRET` | `revalidateSecret` |

### Usage

`loadConfig()` is called internally by the generated `lib/config.ts`:

```ts
// lib/config.ts (generated by create-noxion)
import { loadConfig } from "@noxion/core";

export const siteConfig = loadConfig();
```

---

## `NoxionCollection`

```ts
interface NoxionCollection {
  name?: string;
  databaseId: string;
  pageType: string;
  pathPrefix?: string;
  schema?: Record<string, string>;
}
```

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `name` | `string` | — | Display name for the collection |
| `databaseId` | `string` | ✅ | Notion database page ID |
| `pageType` | `string` | ✅ | Page type: `"blog"`, `"docs"`, `"portfolio"`, or custom |
| `pathPrefix` | `string` | — | URL prefix (e.g. `"docs"` → `/docs/[slug]`) |
| `schema` | `Record<string, string>` | — | Override default property name mapping |

See [Types](./types) for the complete type reference.
